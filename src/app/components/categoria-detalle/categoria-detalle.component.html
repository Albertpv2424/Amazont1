<div class="categoria-detalle" [ngClass]="{'dark-mode': isDarkMode}">
  <h1>{{ nombreCategoria }}</h1>

  <div class="filtros">
    <div class="filtro-grupo">
      <label>Precio:</label>
      <div class="filtro-precio-inputs">
        <input type="number" [(ngModel)]="precioMinimo" placeholder="Mín">
        <span>-</span>
        <input type="number" [(ngModel)]="precioMaximo" placeholder="Máx">
      </div>
    </div>

    <div class="filtro-grupo">
      <label>Popularidad:</label>
      <select [(ngModel)]="filtroPopularidad">
        <option value="todos">Todos los productos</option>
        <option value="populares">Más populares</option>
        <option value="nuevos">Recién llegados</option>
      </select>
    </div>

    <div class="filtro-grupo">
      <label>Novedades:</label>
      <div class="checkbox-wrapper">
        <input type="checkbox" [(ngModel)]="filtroNovedad">
        <span class="checkmark"></span>
      </div>
    </div>

    <div class="filtro-grupo">
      <label>Ordenar por:</label>
      <select [(ngModel)]="ordenar">
        <option value="precio-asc">Precio: Menor a Mayor</option>
        <option value="precio-desc">Precio: Mayor a Menor</option>
      </select>
    </div>
  </div>

  <div class="productos-grid">
    @for (producto of productosFiltrados; track producto.id) {
      <div class="producto-card">
        <div (click)="navegarAProducto(producto)" style="cursor: pointer;">
          <img [src]="producto.imagen" [alt]="producto.nombre">
          <h3>{{ producto.nombre }}</h3>
          <p>{{ producto.descripcion }}</p>
          <p class="precio">{{ producto.precio | currency:'EUR' }}</p>
        </div>
        <button class="btn-carrito" (click)="anadirAlCarrito(producto)">
          Añadir al carrito
        </button>
      </div>
    }
  </div>
</div>